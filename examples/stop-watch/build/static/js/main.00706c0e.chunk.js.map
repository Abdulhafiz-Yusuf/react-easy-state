{"version":3,"sources":["clock.js","App.jsx","index.js","../../../dist/es.es6.js"],"names":["clock","store","ticks","start","intervalId","setInterval","stop","clearInterval","time","moment","millisecond","seconds","format","fraction","isTicking","undefined","toggle","reset","view","label","react_default","a","createElement","onClick","ReactDOM","render","App","document","getElementById","global","__webpack_require__","d","__webpack_exports__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_5__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","_Users_miklosbertalan_react_easy_state_examples_stop_watch_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","react__WEBPACK_IMPORTED_MODULE_8__","_nx_js_observer_util__WEBPACK_IMPORTED_MODULE_9__","globalObj","tasks","Set","isStopped","batchCallbacks","fn","_len","arguments","length","args","Array","_key","batchedArgs","map","arg","_len2","_key2","batch","apply","this","forEach","runTask","clear","task","window","setTimeout","requestAnimationFrame","requestIdleCallback","Promise","prototype","then","catch","WebSocket","method","obj","descriptor","Object","getOwnPropertyDescriptor","newDescriptor","assign","set","value","batched","_len3","_key3","call","defineProperty","batchMethod","COMPONENT","Symbol","DUMMY_STATE","Comp","rawDevtool","devtool","isStatelessComp","isReactComponent","BaseComp","operation","Component","ReactiveHOC","_BaseComp","props","context","_this","state","updater","setState","scheduler","add","delete","debugger","lazy","key","nextProps","nextState","type","renderType","keys","nextKeys","some","oldProps","_get2","stores","component","filter","mapStateToStores","concat","displayName","name","_arr","_i"],"mappings":"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","file":"static/js/main.00706c0e.chunk.js","sourcesContent":["import { store } from 'react-easy-state'\nimport moment from 'moment'\n\n// use 'clock' instead of 'this' in the store methods to make them passable as callbacks\nconst clock = store({\n  ticks: 0,\n  start () {\n    clock.intervalId = setInterval(() => clock.ticks++, 10)\n  },\n  stop () {\n    clock.intervalId = clearInterval(clock.intervalId)\n  },\n  get time () {\n    const time = moment(0).millisecond(clock.ticks * 10)\n\n    return {\n      seconds: time.format('mm:ss'),\n      fraction: time.format('SS')\n    }\n  },\n  get isTicking () {\n    return clock.intervalId !== undefined\n  },\n  toggle () {\n    clock.isTicking ? clock.stop() : clock.start()\n  },\n  reset () {\n    clock.ticks = 0\n    clock.stop()\n  }\n})\n\nexport default clock\n","import React from 'react'\nimport { view } from 'react-easy-state'\nimport clock from './clock'\n\nfunction StopWatch () {\n  const { time, toggle, reset, isTicking } = clock\n  const label = isTicking ? 'Stop' : 'Start'\n\n  return (\n    <div>\n      <div>\n        {time.seconds}\n        <small>{time.fraction}</small>\n      </div>\n      <button onClick={toggle}>{label}</button>\n      <button onClick={reset}>Reset</button>\n    </div>\n  )\n}\n\nexport default view(StopWatch)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","import _toConsumableArray from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _get from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/miklosbertalan/react-easy-state/examples/stop-watch/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport { Component } from 'react';\nimport { observe, unobserve, raw, isObservable } from '@nx-js/observer-util';\nexport { observable as store } from '@nx-js/observer-util';\nvar tasks = new Set();\nvar isStopped = false;\n\nfunction _add(task) {\n  if (isStopped) {\n    tasks.add(task);\n  } else {\n    runTask(task);\n  }\n}\n\nfunction remove(task) {\n  tasks.delete(task);\n} // this replaces the passed function with a function\n// that batches all of its callback arguments\n\n\nfunction batchCallbacks(fn) {\n  return function batchedCallbacks() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var batchedArgs = args.map(function (arg) {\n      return typeof arg === 'function' ? function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return batch(arg, args);\n      } : arg;\n    });\n    return fn.apply(this, batchedArgs);\n  };\n} // bathes obj.onevent = fn like calls\n\n\nfunction batchMethod(obj, method) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, method);\n  var newDescriptor = Object.assign({}, descriptor, {\n    set: function set(value) {\n      var batched = typeof value === 'function' ? function () {\n        for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        return batch(value, args);\n      } : value;\n      return descriptor.set.call(this, batched);\n    }\n  });\n  Object.defineProperty(obj, method, newDescriptor);\n} // this runs the passed function and delays all re-renders\n// until the function is finished running\n\n\nfunction batch(fn, args) {\n  try {\n    isStopped = true;\n    return fn.apply(this, args);\n  } finally {\n    tasks.forEach(runTask);\n    tasks.clear();\n    isStopped = false;\n  }\n}\n\nfunction runTask(task) {\n  task();\n} // try to find the global object\n// it is window in the DOM and global in NodeJS and React Native\n\n\nvar globalObj;\n\nif (typeof window !== 'undefined') {\n  globalObj = window;\n} else if (typeof global !== 'undefined') {\n  globalObj = global;\n} // do a sync batching for the most common task sources\n// this should be removed when React's own batching is improved in the future\n\n\nif (globalObj) {\n  globalObj.setTimeout = batchCallbacks(globalObj.setTimeout);\n  globalObj.setInterval = batchCallbacks(globalObj.setInterval);\n\n  if (globalObj.requestAnimationFrame) {\n    globalObj.requestAnimationFrame = batchCallbacks(globalObj.requestAnimationFrame);\n  }\n\n  if (globalObj.requestIdleCallback) {\n    globalObj.requestIdleCallback = batchCallbacks(globalObj.requestIdleCallback);\n  } // eslint-disable-next-line\n\n\n  Promise.prototype.then = batchCallbacks(Promise.prototype.then); // eslint-disable-next-line\n\n  Promise.prototype.catch = batchCallbacks(Promise.prototype.catch); // this batches websocket event handlers\n\n  if (globalObj.WebSocket) {\n    var websocketHandlers = ['onopen', 'onmessage', 'onerror', 'onclose'];\n    websocketHandlers.forEach(function (method) {\n      return batchMethod(globalObj.WebSocket.prototype, method);\n    });\n  }\n} // DOM event handlers and HTTP event handlers don't have to be batched\n// event handlers are batched by React\n// HTTP event handlers are usually wrapped by Promises, which is covered above\n\n\nvar COMPONENT = Symbol('owner component');\nvar DUMMY_STATE = {};\n\nfunction view(Comp) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      rawDevtool = _ref.devtool;\n\n  var isStatelessComp = !(Comp.prototype && Comp.prototype.isReactComponent);\n  var BaseComp = isStatelessComp ? Component : Comp;\n  var devtool = rawDevtool ? function (operation) {\n    return rawDevtool(Object.assign({\n      Component: Comp\n    }, operation));\n  } : undefined; // return a HOC which overwrites render, shouldComponentUpdate and componentWillUnmount\n  // it decides when to run the new reactive methods and when to proxy to the original methods\n\n  var ReactiveHOC =\n  /*#__PURE__*/\n  function (_BaseComp) {\n    _inherits(ReactiveHOC, _BaseComp);\n\n    function ReactiveHOC(props, context) {\n      var _this;\n\n      _classCallCheck(this, ReactiveHOC);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactiveHOC).call(this, props, context));\n      _this.state = _this.state || {};\n      _this.state[COMPONENT] = _assertThisInitialized(_assertThisInitialized(_this)); // run a dummy setState to schedule a new render, avoid forceUpdate\n\n      var updater = function updater() {\n        return _this.setState(DUMMY_STATE);\n      }; // create a reactive render for the component\n\n\n      _this.render = observe(_this.render, {\n        scheduler: {\n          add: function add() {\n            return _add(updater);\n          },\n          delete: function _delete() {\n            return remove(updater);\n          }\n        },\n        debugger: devtool,\n        lazy: true\n      });\n      return _this;\n    }\n\n    _createClass(ReactiveHOC, [{\n      key: \"render\",\n      value: function render() {\n        return isStatelessComp ? Comp(this.props, this.context) : _get(_getPrototypeOf(ReactiveHOC.prototype), \"render\", this).call(this);\n      } // react should trigger updates on prop changes, while easyState handles store changes\n\n    }, {\n      key: \"shouldComponentUpdate\",\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        var props = this.props,\n            state = this.state; // respect the case when user prohibits updates\n\n        if (_get(_getPrototypeOf(ReactiveHOC.prototype), \"shouldComponentUpdate\", this) && !_get(_getPrototypeOf(ReactiveHOC.prototype), \"shouldComponentUpdate\", this).call(this, nextProps, nextState)) {\n          devtool && devtool({\n            type: 'render',\n            renderType: 'blocked'\n          });\n          return false;\n        } // return true if it is a reactive render or state changes\n\n\n        if (state !== nextState) {\n          devtool && devtool({\n            type: 'render',\n            renderType: 'reactive'\n          });\n          return true;\n        } // the component should update if any of its props shallowly changed value\n\n\n        var keys = Object.keys(props);\n        var nextKeys = Object.keys(nextProps);\n\n        if (nextKeys.length !== keys.length || nextKeys.some(function (key) {\n          return props[key] !== nextProps[key];\n        })) {\n          devtool && devtool({\n            type: 'render',\n            renderType: 'normal',\n            props: nextProps,\n            oldProps: props\n          });\n          return true;\n        }\n\n        return false;\n      } // add a custom deriveStoresFromProps lifecyle method\n\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        // call user defined componentWillUnmount\n        if (_get(_getPrototypeOf(ReactiveHOC.prototype), \"componentWillUnmount\", this)) {\n          _get(_getPrototypeOf(ReactiveHOC.prototype), \"componentWillUnmount\", this).call(this);\n        } // clean up memory used by Easy State\n\n\n        unobserve(this.render);\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        if (_get(_getPrototypeOf(ReactiveHOC), \"deriveStoresFromProps\", this)) {\n          var _get2;\n\n          // inject all local stores and let the user mutate them directly\n          var stores = mapStateToStores(state);\n\n          (_get2 = _get(_getPrototypeOf(ReactiveHOC), \"deriveStoresFromProps\", this)).call.apply(_get2, [this, props].concat(_toConsumableArray(stores)));\n        } // respect user defined getDerivedStateFromProps\n\n\n        if (_get(_getPrototypeOf(ReactiveHOC), \"getDerivedStateFromProps\", this)) {\n          return _get(_getPrototypeOf(ReactiveHOC), \"getDerivedStateFromProps\", this).call(this, props, state);\n        }\n\n        return null;\n      }\n    }]);\n\n    return ReactiveHOC;\n  }(BaseComp);\n\n  ReactiveHOC.displayName = Comp.displayName || Comp.name; // static props are inherited by class components,\n  // but have to be copied for function components\n\n  if (isStatelessComp) {\n    var _arr = Object.keys(Comp);\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var key = _arr[_i];\n      ReactiveHOC[key] = Comp[key];\n    }\n  }\n\n  return ReactiveHOC;\n}\n\nfunction mapStateToStores(state) {\n  // find store properties and map them to their none observable raw value\n  // to do not trigger none static this.setState calls\n  // from the static getDerivedStateFromProps lifecycle method\n  var component = state[COMPONENT];\n  return Object.keys(component).map(function (key) {\n    return component[key];\n  }).filter(isObservable).map(raw);\n}\n\nexport { view, batch };"],"sourceRoot":""}